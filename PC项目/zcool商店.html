<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		
	</head>
	<body>
		<header id='header'>
			<div class="row">
				<div class='logo col-lg-4 col-md-4 col-xs-2'>
					<img src="img/logo.png"/>
				</div>
				<nav class="nav col-lg-8 col-md-8 col-xs-10">
					<ul>
						<li class="active">首页</li>
						<li>抽象派</li>
						<li>人物油画</li>
						<li>绽放</li>
						<li>植物景观</li>
					</ul>
				</nav>
			</div>
		</header>
		<section id="container">
			<ul id="pic">
				<li class="home">	
					<img src="img/wenzi.png"/>
				</li>
				<li class="simple">
					<div class="left">
						<ul class="pics">
							<li>
								<img src="img/img1.png"/>
								<p>
									望<br />
									30*40cm / 40*50cm
								</p>
								<a href="javascript:;">
									<img src="img/buy.jpg"/>
								</a>
							</li>
							<li>
								<img src="img/img2.png"/>
								<p>
									听<br />
									30*40cm / 40*50cm
								</p>
								<a href="javascript:;">
									<img src="img/buy.jpg"/>
								</a>
							</li>
							<li>
								<img src="img/img3.png"/>
								<p>
									悟<br />
									30*40cm / 40*50cm
								</p>
								<a href="javascript:;">
									<img src="img/buy.jpg"/>
								</a>
							</li>
						</ul>
					</div>
					<div class="right">
						<h1>观止</h1>
						<p>
							价格：99元起<br />
							艺术家：吉祥物语
						</p>
						<a href="javascript:;">酷站主页</a>		
					</div>
					<div class="bg">
						<img src="img/sc2.png"/>
					</div>
				</li>
				<li class="person">
					<div class="left">
						<ul class="pics">
							 <li>
		                        <img src="img/img4.png">
		                        <p>Love<br>50*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
		                    <li>
		                        <img src="img/img5.png">
		                        <p>Filial and eros aw<br>50*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
		                    <li>
		                        <img src="img/img6.png">
		                        <p>Good Time<br>50*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
						</ul>
					</div>
					<div class="right">
						<h1>KIDS</h1>
						<p>
							价格：249元<br />
							艺术家：Chow-Lee
						</p>
						<a href="javascript:;">酷站主页</a>		
					</div>
					<div class="bg">
						<img src="img/sc3.png"/>
					</div>
				</li>
				<li class="bloom">
					<div class="left">
						<ul class="pics">
							 <li>
		                        <img src="img/img7.png">
		                        <p>绽放2009<br />60*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
		                    <li>
		                        <img src="img/img8.png">
		                        <p>绽放2010<br />60*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
		                    <li>
		                        <img src="img/img9.png">
		                        <p>绽放2011<br />60*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
						</ul>
					</div>
					<div class="right">
						<h1>绽放</h1>
						<p>
							价格：269元<br />
							艺术家：北邦
						</p>
						<a href="javascript:;">酷站主页</a>		
					</div>
					<div class="bg">
						<img src="img/sc4.png"/>
					</div>
				</li>
				<li class="plant">
					<div class="left">
						<ul class="pics">
							 <li>
		                        <img src="img/img10.png">
		                        <p>栖息<br />50*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
		                    <li>
		                        <img src="img/img11.png">
		                        <p>惊蛰<br />50*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
		                    <li>
		                        <img src="img/img12.png">
		                        <p>恬静<br />50*60cm</p>
		                        <a href="javascript:;">
		                        	<img src="img/buy.jpg"/>
		                        </a>
		                    </li>
						</ul>
					</div>
					<div class="right">
						<h1>沉睡的森林</h1>
						<p>
							价格：249元<br />
							艺术家：赵娜
						</p>
						<a href="javascript:;">酷站主页</a>		
					</div>
					<div class="bg">
						<img src="img/sc5.png"/>
					</div>
				</li>
			</ul>
		</section>
		<div id="round">
			<ul class="roundList">
				<li class="active">
					<a href="javascript:;"></a>
				</li>
				<li>
					<a href="javascript:;"></a>
				</li>
				<li>
					<a href="javascript:;"></a>
				</li>
				<li>
					<a href="javascript:;"></a>
				</li>
				<li>
					<a href="javascript:;"></a>
				</li>
			</ul>
		</div>
	</body>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script type="text/javascript">
		$(function() {
			var $list = $('#pic');
			var $headerLis = $('#header li');
			var currentHeaderIndex = 0;
			var currentTop = $list.position().top;
			var flag = 0;
			var preIndex = 0;
			var $roundPoint = $('#round li');
			var $container = $('#container');
			var isUp = '';
			var timer = '';
			var $homeImg = $('#container .home img');
			var $simpleLi1 = $('#container .simple li:eq(0)');
      var $simpleLi2 = $('#container .simple li:eq(1)');
      var $simpleLi3 = $('#container .simple li:eq(2)');
      var $simpleRight = $('#container .simple .right');
      var $personLi2 = $('#container .person li:eq(1)');
      var $personLi3 = $('#container .person li:eq(2)');
      var $personRight = $('#container .person .right');
      var $bloomLi1 = $('#container .bloom li:eq(0)');
      var $bloomLi2 = $('#container .bloom li:eq(1)');
      var $bloomLi3 = $('#container .bloom li:eq(2)');
      var $bloomRight = $('#container .bloom .right');
      var $plantLi1 = $('#container .plant li:eq(0)');
      var $plantLi2 = $('#container .plant li:eq(1)');
      var $plantLi3 = $('#container .plant li:eq(2)');
      var $plantRight = $('#container .plant .right');
			//出入场动画数组
			var animationArr = [
				{
				  //第一屏
				  in:function () {
            setTimeout(function () {
              $homeImg.css('opacity',1);
            },1000)
          },
          out:function () {
            setTimeout(function () {
              $homeImg.css('opacity',0);
            },1000)
          }
				},
				//第二屏
				{
          in:function () {
            setTimeout(function () {
              $simpleLi1.css('transform',"translateY(0px)");
            },800);
            setTimeout(function () {
              $simpleLi2.css('transform',"translateY(0px)");
            },1000);
            setTimeout(function () {
              $simpleLi3.css('transform',"translateY(0px)");
              $simpleRight.css('transform',"translateY(0px)");
            },1200);
          },
          out:function () {
            setTimeout(function () {
              $simpleLi1.css('transform',"translateY(600px)");
            },800);
            setTimeout(function () {
              $simpleLi2.css('transform',"translateY(600px)");
            },1000);
            setTimeout(function () {
              $simpleLi3.css('transform',"translateY(600px)");
              $simpleRight.css('transform',"translateY(600px)");
            },1200);
          }
				},
        //第三屏
        {
          in:function () {
            setTimeout(function () {
              $personLi2.css('transform',"translateY(0px)");
              $personLi3.css('transform',"translateY(0px)");
              $personRight.css('transform',"translateY(0px)");
            },1000)
          },
          out:function () {
            setTimeout(function () {
							$personLi2.css('transform',"translateX(-279px)");
							$personLi3.css('transform',"translateX(-558px)");
							$personRight.css('transform',"translateX(200px)");
            },500)
          }
        },
        //第四屏
        {
          in:function () {
            $bloomLi1.css('display',"initial");
            $bloomLi2.css('display',"initial");
            $bloomLi3.css('display',"initial");
            $bloomLi1.css('animation',"move1 2s 0.8s");
            $bloomLi2.css('animation',"move2 2s 0.8s");
            $bloomLi3.css('animation',"move3 2s 0.8s");
            setTimeout(function () {
	          $bloomLi1.css('transform',"translate(0px,0px)");
	          $bloomLi2.css('transform',"translate(0px,0px)");
	          $bloomLi3.css('transform',"translate(0px,0px)");
	          $bloomRight.css('opacity',1);
            },2000)
          },
          out:function () {
            $bloomLi1.css('display',"none");
            $bloomLi2.css('display',"none");
            $bloomLi3.css('display',"none");
            $bloomLi1.css('transform',"translate(330px,-1000px)");
            $bloomLi2.css('transform',"translate(0,-1000px)");
            $bloomLi3.css('transform',"translate(-330px,-1000px)");
            $bloomRight.css('opacity',0);
          }
        },
        //第五屏
        {
          in:function () {
            setTimeout(function () {
              $plantLi1.css('transform',"translate3d(0,0,0) rotateX(0deg)");
            },800);
            setTimeout(function () {
              $plantLi2.css('transform',"translate3d(0,0,0) rotateX(0deg)");
            },1000);
            setTimeout(function () {
              $plantLi3.css('transform',"translate3d(0,0,0) rotateX(0deg)");
              $plantRight.css('opacity',1);
            },1200);
          },
          out:function () {
            setTimeout(function () {
              $plantLi1.css('transform',"translate3d(-1000px,-800px,-500px) rotateX(145deg)");
            },800);
            setTimeout(function () {
              $plantLi2.css('transform',"translate3d(-1000px,-800px,-500px) rotateX(145deg)");
            },1000);
            setTimeout(function () {
              $plantLi3.css('transform',"translate3d(-1000px,-800px,-500px) rotateX(145deg)");
              $plantRight.css('opacity',0);
            },1200);
          }
        }
			];
      //调用出场动画
      for (var i = 1; i < animationArr.length; i++) {
        console.log(animationArr[i]['out']);
        animationArr[i].out();
      }
//		animationArr.each(function (index) {
//			animationArr[index].out();
//		})
		//animationArr.each is not a function.

      //滚轮事件
      $container.on("mousewheel DOMMouseScroll", function (ev) {
        clearTimeout(timer);
        timer=setTimeout(function(){
          scroll(ev);
        },200)
			});
			function scroll(ev) {
    			ev = ev || event;
			    var delta = (ev.originalEvent.wheelDelta && (ev.originalEvent.wheelDelta > 0 ? 1 : -1)) ||  // chrome & ie
			                (ev.originalEvent.detail && (ev.originalEvent.detail > 0 ? -1 : 1));              // firefox
        		preIndex = flag;
			    if (delta > 0) {
			        // 向上滚
			        if(flag == 0){
			        	return;
			        }
			        flag -= 1;
			        move(flag);
					
			    } else if (delta < 0) {
			        // 向下滚
			       	if(flag == $headerLis.length-1){
			       		return;
			       	}
			        flag += 1;
			        move(flag);
			    }

			};
			//头部导航点击换屏
			$headerLis.each(function(index,ele){
        		preIndex = flag;
				$(this).click(function() {
					move(index);
					flag = index;
				})
			})
			//右边圆点点击换屏
			$roundPoint.each(function (index,ele) {
        		preIndex = flag;
				$(this).click(function(){
					move(index);
					flag = index;
				})
			})
			//写一个move方法
			function move (index) {
					currentTop = -(document.documentElement.clientHeight - 60) * index;
					$list.css('top',currentTop + 'px');
					$($headerLis[index]).siblings().removeClass();
					$($headerLis[index]).addClass('active');
					$($roundPoint[index]).siblings().removeClass();
					$($roundPoint[index]).addClass('active');
        	//出入场逻辑
        	if(animationArr[index]&&animationArr[index].out){
            animationArr[index].in();
        	}
        	if(animationArr[preIndex]&&animationArr[preIndex].in){
            animationArr[preIndex].out();
        	}
			}
		
		})
			
	</script>
</html>
